<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register Page</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/tst.css">
</head>
<body>
<center>
<div class="col-md-4 col-md-offset-4">
    <div class="box-content profile">
        <h3 class="widget-title">Register Here</h3>
        <form class="contact-form simple-form">
            <fieldset>
                <input type="text" style="width: 33%;" id="fName" placeholder="First name" required>
                <input type="text" style="width: 34%;" id="lName" placeholder="Last name">
                <div id="error" class="error-fields"></div></br>
                <input type="text" style="width: 70%;" id="uName" placeholder="Email ID" required>
                <div id="error1" class="error-fields"></div></br>
                <input type="password" style="width: 70%;" id="pass" placeholder="Password" required>
                <div id="errorPass" class="check-fields"></div></br>
                <input type="password" style="width: 70%;" id="confirmPass" placeholder="Confirm password" required >
                <div id="error2" class="error-fields"></div></br>
                <div id="errorConfirmPass" class="check-fields"></div>
                <!--<input type="text" style="width: 70%;" id="mobilePhone" placeholder="Mobile phone" optional><br>-->
                <!--<div id="error3" class="error-fields"></div>-->
                <!--&nbsp;DOB:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="date" style="width: 54%" id="dob" ><br>-->
                <div>
                <select id="security" name="question" style="width:70%;border: 1px solid #eee;
    border-left: 3px solid salmon;
    border-radius: 5px;
    height: 32px;" >
                    <option selected disabled >&nbsp;&nbsp;Select Question</option>
                    <option>&nbsp;&nbsp;What is your first movie?</option>
                    <option>&nbsp;&nbsp;What is your favourite place?</option>
                    <option>&nbsp;&nbsp;What is your first school?</option>
                </select></div>
                </br>
                <input type="text" style="width: 70%; left: 0.5%; position: relative;" id="answer" placeholder="Answer" required >
                <br><br>

                 By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a></br>
                <input type="button" class="button" style="padding:9px 18px;"
                       value="Sign UP" onclick="myFunction()">
                <br>
                <div id="finalError" class="error-fields"></div>
            </fieldset>
        </form>
    </div>
</div>
    <script>
        fName.onblur = function() {
            var alpha= new RegExp('.*\\d.*');
            if ((alpha.test(fName.value))) { // not email
                fName.classList.add('invalid');
                error.innerHTML = 'Numbers are not allowed in First Name'
            }
        };
        fName.onfocus = function() {
            if (this.classList.contains('invalid')) {
                this.classList.remove('invalid');
                error.innerHTML = "";
            }
        };

        uName.onblur = function() {
            var re = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
            if (!(re.test(uName.value))) {
                uName.classList.add('invalid');
                error1.innerHTML = 'Please enter correct Email Address'
            }
        };

        uName.onfocus = function() {
            if (this.classList.contains('invalid')) {
                this.classList.remove('invalid');
                error1.innerHTML = "";
            }
        };

        pass.onkeyup= function()

        {
            if(pass.value.length>5)
            {
                errorPass.innerHTML="Strength:good";
            }
            else
            {
                errorPass.innerHTML="Strength:poor";
            }
        }

        confirmPass.onkeyup= function()

        {
            errorPass.innerHTML="";
            if(confirmPass.value.length>5)
            {
                errorConfirmPass.innerHTML="Strength:good";
            }
            else
            {
                errorConfirmPass.innerHTML="Strength:poor";
            }
        }
        confirmPass.onblur = function() {



            if (!(confirmPass.value.toString()).match(pass.value.toString())) {
                confirmPass.classList.add('invalid');
                error2.innerHTML = 'Passwords should be same'
            }
        };

        confirmPass.onfocus = function() {
            if (this.classList.contains('invalid')) {
                this.classList.remove('invalid');
                error2.innerHTML = "";
            }
        };

        function myFunction() {
            var firstName = document.getElementById("fName");
            var eamilId = document.getElementById("uName");
            var password = document.getElementById("pass");
            var confirmPassword = document.getElementById("confirmPass");
            var answer = document.getElementById("answer");

            var errorDiv=document.getElementById("error");
            var errorDiv1=document.getElementById("error1");

            var finalErrorDiv=document.getElementById("finalError");
            errorDiv.innerHTML="";
            errorDiv1.innerHTML="";

            finalErrorDiv.innerHTML="";
            var x= true;

            if (firstName.value=="" || eamilId.value=="" || password.value=="" || confirmPassword.value=="" || answer.value=="")
            {
                finalErrorDiv.innerHTML = 'Mandtory columns should be entered';
                x=false;
            }
            var alpha= new RegExp('.*\\d.*');
            if ((alpha.test(firstName.value))) { // not email
                errorDiv.innerHTML = 'Numbers are not allowed in First Name';
                x=false;
            }
            var re = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
            if (!(re.test(eamilId.value)) && eamilId.value!="") {
                errorDiv1.innerHTML = 'Please enter correct Email Address';
                x=false;
            }
            if (!(confirmPassword.value.toString()).match(password.value.toString()) || !(password.value.toString()).match(confirmPassword.value.toString()) ) {
                errorDiv2.innerHTML = 'Passwords should be same';
                x=false;
            }
            console.log("X "+x);
            if (x==true)
            {
                console.log("sign up done next to login");
                var username=document.getElementById("uName").value;
                var password=document.getElementById('pass').value;
                localStorage.setItem(username,password);
				window.open("LoginPage.html", "_self");
            }
        }
    </script>
</body>
</html> 